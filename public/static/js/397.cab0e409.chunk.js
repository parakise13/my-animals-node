"use strict";(self.webpackChunkmy_animal=self.webpackChunkmy_animal||[]).push([[397],{893:function(a,e,i){i.r(e),i.d(e,{default:function(){return _}});var n=i(214),t=i(861),l=i(885),s=i(791),r=i(871),c=i(158),d=i(581),o=i(436),u=i(612),m=i(534),p=i(388),h=i(89),v={"animal-list":"UpdateAnimal_animal-list__mMSzy","animal-list__detail":"UpdateAnimal_animal-list__detail__Ud8Zc","update-animal__desc":"UpdateAnimal_update-animal__desc__N6sfD","animal-list__btns":"UpdateAnimal_animal-list__btns__h4xvU","not-found":"UpdateAnimal_not-found__sj5it"},x=i(184),_=function(){var a=(0,o.Z)(),e=a.isLoading,i=a.error,_=a.sendRequest,f=a.clearError,j=(0,r.UO)().animalId,V=(0,s.useState)(),Z=(0,l.Z)(V,2),g=Z[0],N=Z[1],b=(0,s.useContext)(c.V),y=(0,r.s0)(),k=(0,d.Z)({animalName:{value:"",isValid:!0},species:{value:"",isValid:!0},age:{value:"",isValid:!0},description:{value:"",isValid:!0}},!0),U=(0,l.Z)(k,3),w=U[0],A=U[1],C=U[2];(0,s.useEffect)((function(){var a=function(){var a=(0,t.Z)((0,n.Z)().mark((function a(){var e;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_("".concat("https://my-animals.herokuapp.com/api","/animals/").concat(j));case 3:e=a.sent,N(e.animal),C({animalName:{value:e.animal.animalName,isValid:!0},species:{value:e.animal.species,isValid:!0},age:{value:e.animal.age,isValid:!0},description:{value:e.animal.description,isValid:!0}},!0),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();a()}),[C,j,_]);var T=function(){var a=(0,t.Z)((0,n.Z)().mark((function a(e){return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.prev=1,a.next=4,_("".concat("https://my-animals.herokuapp.com/api","/animals/").concat(j),"PATCH",{"Content-Type":"application/json",Authorization:"Bearer ".concat(b.token)},JSON.stringify({animalName:w.inputs.animalName.value,species:w.inputs.species.value,age:w.inputs.age.value,description:w.inputs.description.value}));case 4:a.sent,y(-1),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return e?(0,x.jsx)("div",{className:v.loading,children:e&&(0,x.jsx)(p.Z,{isLoading:e})}):g||i?(0,x.jsxs)(s.Fragment,{children:[i&&(0,x.jsx)(h.Z,{onClose:f,errorText:i}),!e&&g&&(0,x.jsxs)("form",{onSubmit:T,className:v["animal-list"],children:[g&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:v["animal-list__detail"],children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"animalName",children:"\uc774\ub984 : "}),(0,x.jsx)(m.Z,{id:"animalName",type:"text",element:"input",placeholder:"\uc774\ub984\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",validators:[(0,u.hg)()],initialValue:g.animalName,initialValid:!0,onInput:A,errorText:"\uc62c\ubc14\ub978 \uc774\ub984\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"species",children:"\uc885\ub958 : "}),(0,x.jsx)(m.Z,{id:"species",type:"text",element:"input",placeholder:"\uc885\ub958\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",validators:[(0,u.hg)()],initialValue:g.species,initialValid:!0,onInput:A,errorText:"\uc62c\ubc14\ub978 \uc885\ub958\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"age",children:"\ub098\uc774 : "}),(0,x.jsx)(m.Z,{id:"age",type:"text",element:"input",placeholder:"\ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",validators:[(0,u.hg)()],initialValue:g.age,initialValid:!0,onInput:A,errorText:"\uc62c\ubc14\ub978 \ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})]}),(0,x.jsxs)("div",{className:v["update-animal__desc"],children:[(0,x.jsx)("label",{htmlFor:"description",children:"\ud2b9\uc9d5 : "}),(0,x.jsx)(m.Z,{id:"description",placeholder:"\ud2b9\uc9d5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",element:"textarea",validators:[(0,u.CP)(5)],initialValue:g.description,initialValid:!0,rows:5,onInput:A,errorText:"\ud2b9\uc9d5\uc744 5\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})]}),(0,x.jsx)("button",{className:v["animal-list__btns"],type:"submit",disabled:!w.isValid,children:"\uc218\uc815\uc644\ub8cc"})]})]}):(0,x.jsx)("div",{className:v["not-found"],children:(0,x.jsx)("h2",{children:"\ubc18\ub824\ub3d9\ubb3c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})})}}}]);
//# sourceMappingURL=397.cab0e409.chunk.js.map